"use strict";(self.webpackChunksweetspot_ui=self.webpackChunksweetspot_ui||[]).push([[687],{7687(e,t,a){a.d(t,{worker:()=>y});var s=a(270),n=a(991),r=a(2444);const o="v1",i="user-management",l="file-management",c="files";const m="".concat(o,"/").concat(l,"/file/"),u=[...[...[n.L.post(m+"upload",async e=>{let{request:t}=e;const a=(await t.formData()).get("file"),s=JSON.parse(localStorage.getItem(c)||"[]"),n={id:crypto.randomUUID(),name:a.name,size:a.size,type:a.type,createdAt:Date.now()};return s.push(n),function(e){localStorage.setItem(c,JSON.stringify(e))}(s),await new Promise(e=>setTimeout(e,1500)),r.c.json(n)})]]];var d=a(9379),p=a(7896),f=a(4756);const g="users";function N(){return JSON.parse(localStorage.getItem(g)||"[]")}function w(e){localStorage.setItem(g,JSON.stringify(e))}const h="".concat(o,"/").concat(i,"/user/"),{Mock:L}=f.A,j=[...u,...[...[...[n.L.post(h+"all",async e=>{let{request:t}=e;const a=await t.json().catch(()=>({})),{firstName:s,lastName:n,email:o}=a;let i=N();0===i.length&&(i=Array.from({length:10}).map(()=>({id:p.a.string.uuid(),firstName:p.a.person.firstName(),lastName:p.a.person.lastName(),email:p.a.internet.email()})),w(i));const l=i.filter(e=>{let t=!0;return s&&(t=t&&e.firstName.toLowerCase().includes(s.toLowerCase())),n&&(t=t&&e.lastName.toLowerCase().includes(n.toLowerCase())),o&&(t=t&&e.email===o),t});return r.c.json(l)})],...[n.L.post(h+"paginate",async e=>{var t,a;let{request:s}=e;const n=new URL(s.url),o=Number(null!==(t=n.searchParams.get("page"))&&void 0!==t?t:1),i=Number(null!==(a=n.searchParams.get("limit"))&&void 0!==a?a:10),l=await s.json().catch(()=>({})),{firstName:c,lastName:m,email:u}=l;let d=N();0===d.length&&(d=Array.from({length:10}).map(()=>({id:p.a.string.uuid(),firstName:p.a.person.firstName(),lastName:p.a.person.lastName(),email:p.a.internet.email()})),w(d));const f=d.filter(e=>{let t=!0;return c&&(t=t&&e.firstName.toLowerCase().includes(c.toLowerCase())),m&&(t=t&&e.lastName.toLowerCase().includes(m.toLowerCase())),u&&(t=t&&e.email===u),t}),g=(o-1)*i,h=g+i,L=f.slice(g,h);return r.c.json({docs:L,limit:i,page:o,totalDocs:f.length,totalPages:Math.ceil(f.length/i)})})],...[n.L.get(h+":id",e=>{let{params:t}=e;const a=N(),s=a.findIndex(e=>e.id===t.id);return-1===s?r.c.json({message:L.notFound},{status:404}):r.c.json(a[s])})],...[n.L.post(h,async e=>{let{request:t}=e;const a=await t.json();if(!a.firstName||!a.lastName||!a.email)return r.c.json({message:L.badRequest},{status:400});const s=N(),n=(0,d.A)({id:crypto.randomUUID()},a);return s.push(n),w(s),r.c.json(n,{status:201})})],...[n.L.put(h+":id",async e=>{let{params:t,request:a}=e;const s=await a.json(),n=N(),o=n.findIndex(e=>e.id===t.id);return-1===o?r.c.json({message:L.notFound},{status:404}):(n[o]=(0,d.A)((0,d.A)({},n[o]),s),w(n),r.c.json(n[o]))})],...[n.L.delete(h+":id",e=>{let{params:t}=e;return w(N().filter(e=>e.id!==t.id)),r.c.json({})})]]]],y=(0,s.k)(...j)}}]);
//# sourceMappingURL=687.bb7d9c7e.chunk.js.map